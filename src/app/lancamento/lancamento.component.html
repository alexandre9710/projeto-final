<app-menu></app-menu>

<main class="lancamento-root">
  <section class="hero">
    <iframe
      width="100%"
      height="500"
      src="https://www.youtube-nocookie.com/embed/vQsryuNmsL0?controls=0&autoplay=1&modestbranding=0&loop=1&mute=1&rel=0&hd=1"
      title="Lançamento video"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>
  </section>

  <section class="cars">
    <ul class="modelcars">
      <li *ngFor="let car of cars; index as i">
        <img [src]="car.image" class="photocar" alt="{{car.model}}" />
        <div class="infocar">
          <div>
            <input
              type="checkbox"
              class="checkbox"
              [checked]="isSelected(i)"
              (change)="toggleSelection(i)"
            />
          </div>
          <div class="info">
            <span class="textmodel">{{ car.model }}</span>
            <span class="textprice">Preço Sugerido: {{ formatCurrency(car.price) }}</span>
          </div>
          <div>
            <img src="/info.png" alt="info" />
          </div>
        </div>
      </li>
    </ul>

    <div class="controls" style="text-align:center; padding-bottom:20px;">
      <button type="button" class="btn-compare" (click)="showCompare()">Comparar Carros</button>
      <button type="button" class="btn-clear" (click)="clearSelection()">Limpar seleção</button>
      <div *ngIf="compareMessage" class="compare-message" style="margin-top:8px;color:#b00020;font-weight:600">{{ compareMessage }}</div>
    </div>
  </section>

  <section class="compare" *ngIf="compareOpen">
    <div class="compare-card">
      <h3 style="text-align:center; margin-bottom: 10px;">Comparação</h3>
      <div class="compare-table-container">
        <table>
          <tbody>
            <tr>
              <td></td>
              <td *ngIf="selected[0] !== undefined" class="car-image-cell">
                <img [src]="cars[selected[0]].image" style="width:120px;" alt="{{ cars[selected[0]].model }}" />
              </td>
              <td *ngIf="selected[1] !== undefined" class="car-image-cell">
                <img [src]="cars[selected[1]].image" style="width:120px;" alt="{{ cars[selected[1]].model }}" />
              </td>
            </tr>
            <tr>
              <td>Modelo</td>
              <td *ngIf="selected[0] !== undefined">{{ cars[selected[0]].model }}</td>
              <td *ngIf="selected[1] !== undefined">{{ cars[selected[1]].model }}</td>
            </tr>
            <tr>
              <td>Altura da caçamba (mm)</td>
              <td *ngIf="selected[0] !== undefined">{{ cars[selected[0]].alturaCacamba }}</td>
              <td *ngIf="selected[1] !== undefined">{{ cars[selected[1]].alturaCacamba }}</td>
            </tr>
            <tr>
              <td>Altura do veículo (mm)</td>
              <td *ngIf="selected[0] !== undefined">{{ cars[selected[0]].alturaVeiculo }}</td>
              <td *ngIf="selected[1] !== undefined">{{ cars[selected[1]].alturaVeiculo }}</td>
            </tr>
            <tr>
              <td>Altura livre do solo (mm)</td>
              <td *ngIf="selected[0] !== undefined">{{ cars[selected[0]].alturaSolo }}</td>
              <td *ngIf="selected[1] !== undefined">{{ cars[selected[1]].alturaSolo }}</td>
            </tr>
            <tr>
              <td>Capacidade de carga (Kg)</td>
              <td *ngIf="selected[0] !== undefined">{{ cars[selected[0]].capacidadeCarga }}</td>
              <td *ngIf="selected[1] !== undefined">{{ cars[selected[1]].capacidadeCarga }}</td>
            </tr>
            <tr>
              <td>Motor</td>
              <td *ngIf="selected[0] !== undefined">{{ cars[selected[0]].motor }}</td>
              <td *ngIf="selected[1] !== undefined">{{ cars[selected[1]].motor }}</td>
            </tr>
            <tr>
              <td>Potência (cv)</td>
              <td *ngIf="selected[0] !== undefined">{{ cars[selected[0]].potencia }}</td>
              <td *ngIf="selected[1] !== undefined">{{ cars[selected[1]].potencia }}</td>
            </tr>
            <tr>
              <td>Volume de caçamba (L)</td>
              <td *ngIf="selected[0] !== undefined">{{ cars[selected[0]].volumeCacamba }}</td>
              <td *ngIf="selected[1] !== undefined">{{ cars[selected[1]].volumeCacamba }}</td>
            </tr>
            <tr>
              <td>Roda</td>
              <td *ngIf="selected[0] !== undefined">{{ cars[selected[0]].roda }}</td>
              <td *ngIf="selected[1] !== undefined">{{ cars[selected[1]].roda }}</td>
            </tr>
            <tr>
              <td>Preço</td>
              <td *ngIf="selected[0] !== undefined">{{ formatCurrency(cars[selected[0]].price) }}</td>
              <td *ngIf="selected[1] !== undefined">{{ formatCurrency(cars[selected[1]].price) }}</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div style="text-align:center; margin-top: 12px;">
        <button (click)="hideCompare()" style="height:40px; width:48%; max-width: 200px; margin-right: 2%;">Fechar</button>
        <button (click)="clearSelection()" style="height:40px; width:48%; max-width: 200px;">Fechar e limpar</button>
      </div>
    </div>
  </section>
</main>